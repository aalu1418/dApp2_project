(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{105:function(e,t,a){e.exports=a(127)},110:function(e,t,a){},111:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),o=a.n(c),i=(a(110),a(12)),l=a(33),s=a(158),u=a(161),m=a(69),p=a(181),d=a(162),f=a(163),h=a(85),b=a.n(h),E=a(87),g=a.n(E),v=(a(111),function(e){var t=e.connected,a=Object(l.g)(),n=Object(l.h)();return r.a.createElement(s.a,{position:"sticky"},r.a.createElement(u.a,null,r.a.createElement(b.a,{fontSize:"large"}),r.a.createElement(m.a,{variant:"h6",className:"heading-web"},"Airline MRO + Hyperledger Fabric"),r.a.createElement(m.a,{variant:"h6",className:"heading-mobile"},"Airline MRO"),r.a.createElement(p.a,{px:2},"/aircraft"===n.pathname&&r.a.createElement(d.a,{color:"inherit",onClick:function(){window.sessionStorage.removeItem("jwt"),a.push("/"),console.log("logout callback")}},"Logout")),r.a.createElement(f.a,{title:t?"Network Connected":"Not Connected"},r.a.createElement(g.a,{color:t?"inherit":"secondary"}))))}),w=a(51),y=a(73),j=a(19),O=a.n(j),x=a(34),C=(a(118),a(164)),N=a(165),k=a(166),S=a(167),L=(a(119),function(e){var t=e.heading,a=e.onClick,n=e.disabled,c=e.buttonText,o=e.switchText,i=e.toggleClick,l=e.children;return r.a.createElement(p.a,{mt:6,mx:5,className:"loginCard-container"},r.a.createElement(C.a,{raised:!0,className:"loginCard-card"},r.a.createElement(N.a,{title:t,className:"loginCard-center"}),r.a.createElement(k.a,{className:"loginCard-content loginCard-center"},l),r.a.createElement(S.a,{className:"loginCard-center"},r.a.createElement(p.a,{mb:1},r.a.createElement(d.a,{onClick:i},o)),r.a.createElement(d.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:a,disabled:n,className:"loginCard-mainButton"},c))))}),M=a(180),D=(a(120),function(e){var t=Object.assign({},e);return r.a.createElement(p.a,{my:1,className:"boxWidth"},r.a.createElement(M.a,Object.assign({},t,{variant:"outlined",fullWidth:!0})))}),R=a(68),T=a(183),I=(a(121),function(e){var t=e.options,a=e.optionLabel,n=e.freeSolo,c=void 0!==n&&n,o=e.onInputChange,i=(e.id,Object(R.a)(e,["options","optionLabel","freeSolo","onInputChange","id"]));return r.a.createElement(T.a,{options:t,getOptionLabel:a,freeSolo:c,onInputChange:o,className:"autoCompleteContainer",renderInput:function(e){return r.a.createElement(D,Object.assign({},e,i))}})}),H="https://35.193.103.180:3000/",P=function(){var e=Object(x.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(H);case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(x.a)(O.a.mark((function e(t,a){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.postType=t,e.next=3,fetch(H+"login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 3:if(n=e.sent,console.log(n),"login"!==t){e.next=12;break}return e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r);case 12:return e.abrupt("return",200===n.status);case 13:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),A=function(){var e=Object(x.a)(O.a.mark((function e(t){var a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(H+"aircraft?id=".concat(t));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(x.a)(O.a.mark((function e(t){var a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(H+"part?id=".concat(t));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(e){return e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")},J=function(e){var t=e.connected,a=e.companies,n=e.userData,c=Object(l.g)(),o=["Administrator","Maintainer"],s=r.a.useState(!1),u=Object(i.a)(s,2),m=u[0],p=u[1],d=r.a.useState({username:"",password:"",type:"",company:""}),f=Object(i.a)(d,2),h=f[0],b=f[1],E=r.a.useState(""),g=Object(i.a)(E,2),v=g[0],j=g[1],C=r.a.useState(!1),N=Object(i.a)(C,2),k=N[0],S=N[1],M=r.a.useState(!1),R=Object(i.a)(M,2),T=R[0],H=R[1];r.a.useEffect((function(){S(!!v&&h.password!==v)}),[h.password,v]);var P=function(){var e=Object(x.a)(O.a.mark((function e(){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("login click"),delete(a=h).verified,!t){e.next=9;break}return e.next=6,z("login",a);case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=!0;case 10:r=e.t0,console.log(r),r&&(n.setInfo(r.user),window.sessionStorage.setItem("jwt",r.jwtToken),c.push("/aircraft"));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(x.a)(O.a.mark((function e(){var a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("register click"),H(!0),delete(a=h).verified,!t){e.next=10;break}return e.next=7,z("register",a);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=!0;case 11:n=e.t0,H(!1),console.log(n),n&&P();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(e){var t=e.target.id,a=e.target.value;b((function(e){return Object(y.a)({},e,Object(w.a)({},t,a))}))},J=function(e,t,a,n){var r=e.target.value;"number"===typeof r&&(r=e.target.innerText.toLowerCase()),t((function(e){return Object(y.a)({},e,Object(w.a)({},a,r||""))}))};return r.a.createElement("div",{className:"login-container"},r.a.createElement(L,{heading:m?"Register User":"User Login",switchText:m?"Existing users sign in":"New users register here",onClick:m?A:P,disabled:!Object.values(h).every((function(e){return!!e}))||T||k||m&&!v,buttonText:m?"Register":"Login",toggleClick:function(){return p(!m)}},r.a.createElement(D,{label:"Username",onChange:W,id:"username",value:h.username}),r.a.createElement(D,{label:"Password",type:"password",onChange:W,id:"password",value:h.password}),m&&r.a.createElement(D,{label:"Confirm password",type:"password",id:"verified",onChange:function(e){return j(e.target.value)},disabled:!h.password,error:k,helperText:k?"passwords do not match":""}),r.a.createElement(I,{options:o,optionLabel:Y,label:"Role",onInputChange:function(e){J(e,b,"type")}}),r.a.createElement(I,{options:a.list,optionLabel:Y,label:"Company",freeSolo:"administrator"===h.type&&m,onInputChange:function(e){J(e,b,"company",a.list)}})))},B=a(92),F=a(177),U=a(182),G=a(178),$=a(168),K=(a(122),a(88)),Z=a.n(K),_=a(90),q=a.n(_),Q=a(89),V=a.n(Q),X=function(e){var t=e.start,a=e.end,n=e.current,c=e.label,o=r.a.useState(0),l=Object(i.a)(o,2),s=l[0],u=l[1];return setTimeout((function(){u(Math.min((n-t)/(a-t)*100,100))}),1e3),r.a.createElement(p.a,{className:"bar-container"},r.a.createElement(p.a,{pr:2,className:"bar-label"},r.a.createElement(m.a,null,c)),r.a.createElement(Z.a,{color:s<75?"primary":"secondary",fontSize:"large"}),r.a.createElement($.a,{color:s<75?"primary":"secondary",variant:"determinate",value:s,classes:{root:"bar-indicator"}}),s<95?r.a.createElement(V.a,{color:"disabled",fontSize:"large"}):r.a.createElement(q.a,{color:"secondary",fontSize:"large"}))},ee=(a(123),a(64)),te=a.n(ee),ae=a(184),ne=a(169),re=a(170),ce=a(171),oe=a(172),ie=a(173),le=a(174),se=a(175),ue=a(176),me=(a(125),a(66)),pe=a.n(me),de=function(e){var t=e.report;return r.a.createElement(ae.a,null,r.a.createElement(ne.a,{expandIcon:r.a.createElement(pe.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(m.a,null,te()(t.date).format("D MMM YYYY")),r.a.createElement(m.a,{className:"expansion-secondLabel"},"Maintenance Type: ".concat(Y(t.type)))),r.a.createElement(re.a,{className:"expansionPanel-center"},r.a.createElement(m.a,null,"Notes: ".concat(t.notes)),r.a.createElement(ce.a,null,r.a.createElement(oe.a,null,r.a.createElement(ie.a,null,r.a.createElement(le.a,null,r.a.createElement(se.a,null,"Original Part"),r.a.createElement(se.a,null,"New Part"))),r.a.createElement(ue.a,null,Object.keys(t.partsReplaced).map((function(e){return r.a.createElement(le.a,{key:e},r.a.createElement(se.a,null,e.includes("newPart")?"--":e),r.a.createElement(se.a,null,t.partsReplaced[e]))})))))))},fe=(a(126),function(e){var t=e.part,a=r.a.useState({}),n=Object(i.a)(a,2),c=n[0],o=n[1];return r.a.useState((function(){W(t).then((function(e){return o(e)}))}),[]),r.a.createElement(ae.a,null,r.a.createElement(ne.a,{expandIcon:r.a.createElement(pe.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},c.description&&r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null,c.description.id),r.a.createElement(m.a,{className:"expansion-secondLabel"},c.description.name))),r.a.createElement(re.a,{className:"expansionPanel-center"},c.history&&r.a.createElement(X,{start:0,end:c.maximumHours,current:c.totalHours,label:"Current Aircraft: ".concat(c.history[c.history.length-1].tailNumber)})))});function he(e){var t=e.children,a=e.value,n=e.index,c=Object(R.a)(e,["children","value","index"]);return r.a.createElement(m.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"vertical-tabpanel-".concat(n),"aria-labelledby":"vertical-tab-".concat(n),className:"detailContainer"},c),a===n&&r.a.createElement(p.a,{p:3,className:"detailContainer-box"},t))}var be=Object(F.a)((function(e){return{tabs:{borderRight:"1px solid ".concat(e.palette.divider),color:e.palette.text.main,minWidth:"15%"}}})),Ee=function(e){var t=e.condition,a=e.children;return t?a:r.a.createElement(s.a,{position:"static",color:"transparent"},a)},ge=function(e){var t=e.connected,a=e.userData,n=be(),c=r.a.useState(0),o=Object(i.a)(c,2),l=o[0],s=o[1],u=r.a.useState(!1),d=Object(i.a)(u,2),f=d[0],h=d[1],b=r.a.useState([]),E=Object(i.a)(b,2),g=E[0],v=E[1];return r.a.useEffect((function(){function e(){window.innerWidth<=600&&!f?h(!0):window.innerWidth>600&&f&&h(!1)}return e(),window.addEventListener("resize",e),function(t){window.removeEventListener("resize",e)}}),[f]),r.a.useEffect((function(){if(t)a.info.aircraft.forEach((function(e){A(e).then((function(e){var t=e;v((function(e){return[].concat(Object(B.a)(e),[t])}))}))}));else{v(new Array(20).fill({description:{aircraft:"Boeing 787-8 Dreamliner",tailNumber:"G-ZBJG",image:"https://cdn.jetphotos.com/full/6/27290_1582395615.jpg"},maintenanceSchedule:["A","B","C","D"].map((function(e){return{type:e,lastCompletedDate:new Date,lastCompletedHours:Math.round(100*Math.random()),maxHours:250}})),flightHours:Math.round(250*Math.random()),owner:[{company:"british airways",purchaseDate:new Date,soldDate:null}],partsList:[],maintainers:[],maintenanceReports:new Array(2).fill(JSON.stringify({date:new Date,type:"General",notes:"Test maintenance report",partsReplaced:{newPart:"test part","testing part":"testing parts"}}))}))}}),[t,a.info.aircraft]),r.a.createElement("div",{className:"mainContainer ".concat(f?"verticalOrient":"horizontalOrient")},r.a.createElement(Ee,{condition:!f},r.a.createElement(U.a,{orientation:f?"horizontal":"vertical",variant:"scrollable",value:l,onChange:function(e,t){s(t)},className:n.tabs},g.map((function(e,t){return r.a.createElement(G.a,Object.assign({label:e.description.tailNumber,key:"plane".concat(t)},function(e){return{id:"vertical-tab-".concat(e),"aria-controls":"vertical-tabpanel-".concat(e)}}(t)))})))),g.map((function(e,t){return r.a.createElement(he,{value:l,index:t,key:"aircraft".concat(t)},r.a.createElement(p.a,{className:"panel-header-details"},r.a.createElement(m.a,{variant:"h2"},e.description.aircraft),r.a.createElement(m.a,{variant:"h6"},"Tail Number: ".concat(e.description.tailNumber)),r.a.createElement(m.a,{variant:"h6"},"Company: ".concat(Y(e.owner[e.owner.length-1].company)))),r.a.createElement(p.a,{className:"panel-header-image"},r.a.createElement("img",{src:e.description.image,alt:"".concat(e.description.aircraft," ").concat(e.description.tailNumber)})),r.a.createElement(p.a,{my:1,className:"panel-content"},r.a.createElement(m.a,{variant:"h5"},"Maintenance Checks"),r.a.createElement(p.a,{pt:1},e.maintenanceSchedule.map((function(t){return r.a.createElement(X,{start:t.lastCompletedHours,end:t.lastCompletedHours+t.maxHours,current:e.flightHours,label:"".concat(t.type," Check - Last Completed: ").concat(te()(t.lastCompletedDate).format("D MMM YYYY")),key:t.type})})))),r.a.createElement(p.a,{my:1,className:"panel-content"},r.a.createElement(m.a,{variant:"h5"},"Parts Provenance"),r.a.createElement(p.a,{pt:1},e.partsList.map((function(e,t){return r.a.createElement(fe,{part:e,key:t})})))),r.a.createElement(p.a,{my:1,className:"panel-content"},r.a.createElement(m.a,{variant:"h5"},"Maintenance Reports"),r.a.createElement(p.a,{pt:1},e.maintenanceReports.map((function(e,t){return e.partsReplaced=JSON.parse(JSON.parse(e.partsReplaced)),r.a.createElement(de,{report:e,key:t})})))))})))};var ve=function(){var e=r.a.useState(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],c=r.a.useState([]),o=Object(i.a)(c,2),s=o[0],u=o[1],m={list:s,setList:u},p=r.a.useState({}),d=Object(i.a)(p,2),f=d[0],h={info:f,setInfo:d[1]};return r.a.useEffect((function(){P().then((function(e){u(e),n(!0)})).catch((function(e){n(!1),u(["air canada","KLM","united","delta"])}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{connected:a}),r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/aircraft"},0===Object.keys(f).length?r.a.createElement(l.a,{to:"/"}):r.a.createElement(ge,{connected:a,userData:h})),r.a.createElement(l.b,{path:"/"},r.a.createElement(J,{connected:a,companies:m,userData:h}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var we=a(48),ye=a(91),je=a(179),Oe=Object(ye.a)({palette:{type:"dark",text:{main:"#fff"}},overrides:{MuiFormLabel:{root:{"&$focused":{color:"white"}}}}});o.a.render(r.a.createElement(je.a,{theme:Oe},r.a.createElement(we.a,{basename:"/"},r.a.createElement(ve,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[105,1,2]]]);
//# sourceMappingURL=main.b9fe8ab6.chunk.js.map