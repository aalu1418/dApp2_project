(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{197:function(e,a,t){e.exports=t(299)},202:function(e,a,t){},203:function(e,a,t){},210:function(e,a,t){},211:function(e,a,t){},212:function(e,a,t){},213:function(e,a,t){},214:function(e,a,t){},215:function(e,a,t){},216:function(e,a,t){},217:function(e,a,t){},218:function(e,a,t){},222:function(e,a){},224:function(e,a){},256:function(e,a){},257:function(e,a){},299:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(15),o=t.n(c),i=(t(202),t(8)),l=t(52),s=t(332),u=t(335),m=t(70),p=t(361),d=t(336),f=t(337),b=t(171),E=t.n(b),v=t(173),g=t.n(v),h=(t(203),function(e){var a=e.connected,t=Object(l.g)(),n=Object(l.h)();return r.a.createElement(s.a,{position:"sticky"},r.a.createElement(u.a,null,r.a.createElement(E.a,{fontSize:"large"}),r.a.createElement(m.a,{variant:"h6",className:"heading-web"},"Airline MRO + Hyperledger Fabric"),r.a.createElement(m.a,{variant:"h6",className:"heading-mobile"},"Airline MRO"),r.a.createElement(p.a,{px:2},"/aircraft"===n.pathname&&r.a.createElement(d.a,{color:"inherit",onClick:function(){window.sessionStorage.removeItem("jwt"),t.push("/"),console.log("logout callback")}},"Logout")),r.a.createElement(f.a,{title:a?"Network Connected":"Not Connected"},r.a.createElement(g.a,{color:a?"inherit":"secondary"}))))}),y=t(18),j=t(20),O=t(12),w=t.n(O),N=t(16),C=(t(210),t(366)),x=t(364),S=t(338),k=t(339),T=t(340),H=t(341),M=(t(211),function(e){var a=e.heading,t=e.onClick,n=e.disabled,c=e.buttonText,o=e.switchText,i=e.toggleClick,l=e.children;return r.a.createElement(p.a,{mt:6,mx:5,className:"loginCard-container"},r.a.createElement(S.a,{raised:!0,className:"loginCard-card"},r.a.createElement(k.a,{title:a,className:"loginCard-center"}),r.a.createElement(T.a,{className:"loginCard-content loginCard-center"},l),r.a.createElement(H.a,{className:"loginCard-center"},r.a.createElement(p.a,{mb:1},r.a.createElement(d.a,{onClick:i},o)),r.a.createElement(d.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:t,disabled:n,className:"loginCard-mainButton"},c))))}),L=t(360),P=(t(212),function(e){var a=Object.assign({},e);return r.a.createElement(p.a,{my:1,className:"boxWidth"},r.a.createElement(L.a,Object.assign({},a,{variant:"outlined",fullWidth:!0})))}),I=t(101),D=t(363),R=(t(213),function(e){var a=e.options,t=e.optionLabel,n=e.freeSolo,c=void 0!==n&&n,o=e.onInputChange,i=(e.id,Object(I.a)(e,["options","optionLabel","freeSolo","onInputChange","id"]));return r.a.createElement(D.a,{options:a,getOptionLabel:t,freeSolo:c,onInputChange:o,className:"autoCompleteContainer",renderInput:function(e){return r.a.createElement(P,Object.assign({},e,i))}})}),A="https://35.193.103.180:3000/",F=function(){return{"Content-Type":"application/json",Authorization:"Bearer ".concat(window.sessionStorage.getItem("jwt"))}},B=function(){var e=Object(N.a)(w.a.mark((function e(){var a,t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(A);case 2:return a=e.sent,e.next=5,a.json();case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(N.a)(w.a.mark((function e(a,t){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.postType=a,e.next=3,fetch(A+"login",{method:"POST",headers:F(),body:JSON.stringify(t)});case 3:if(n=e.sent,console.log(n),"login"!==a){e.next=12;break}return e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r);case 12:return e.abrupt("return",200===n.status);case 13:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),z=function(){var e=Object(N.a)(w.a.mark((function e(a){var t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(A+"aircraft?id=".concat(a));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),J=function(){var e=Object(N.a)(w.a.mark((function e(a){var t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(A+"part?id=".concat(a));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),W=function(){var e=Object(N.a)(w.a.mark((function e(){var a,t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(A+"admin",{method:"GET",headers:F()});case 2:return a=e.sent,e.next=5,a.json();case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(N.a)(w.a.mark((function e(a,t,n){var r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(A+a,{method:t,headers:F(),body:JSON.stringify(n)});case 2:return r=e.sent,e.abrupt("return",200===r.status);case 4:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),G=function(e){return e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")},Z=function(e){var a=e.connected,t=e.companies,n=e.userData,c=Object(l.g)(),o=["Administrator","Maintainer"],s=r.a.useState(!1),u=Object(i.a)(s,2),m=u[0],p=u[1],d=r.a.useState({username:"",password:"",type:"",company:""}),f=Object(i.a)(d,2),b=f[0],E=f[1],v=r.a.useState(""),g=Object(i.a)(v,2),h=g[0],O=g[1],S=r.a.useState(!1),k=Object(i.a)(S,2),T=k[0],H=k[1],L=r.a.useState(!1),I=Object(i.a)(L,2),D=I[0],A=I[1],F=r.a.useState(!1),B=Object(i.a)(F,2),z=B[0],J=B[1],W=r.a.useState(""),Y=Object(i.a)(W,2),Z=Y[0],$=Y[1];r.a.useEffect((function(){H(!!h&&b.password!==h)}),[b.password,h]);var K=function(){var e=Object(N.a)(w.a.mark((function e(){var t,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("login click"),delete(t=b).verified,e.prev=3,!a){e.next=10;break}return e.next=7,U("login",t);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0={user:{type:b.type}};case 11:r=e.t0,console.log(r),n.setInfo(r.user),window.sessionStorage.setItem("jwt",r.jwtToken),c.push("/aircraft"),e.next=22;break;case 18:e.prev=18,e.t1=e.catch(3),$("Error signing in"),J(!0);case 22:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(N.a)(w.a.mark((function e(){var t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("register click"),A(!0),delete(t=b).verified,!a){e.next=10;break}return e.next=7,U("register",t);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=!0;case 11:n=e.t0,A(!1),console.log(n),n?K():($("Error registering"),J(!0));case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(e,a){"clickaway"!==a&&J(!1)},Q=function(e){var a=e.target.id,t=e.target.value;E((function(e){return Object(j.a)({},e,Object(y.a)({},a,t))}))},V=function(e,a,t,n){var r=e.target.value;"number"===typeof r&&(r=e.target.innerText.toLowerCase()),a((function(e){return Object(j.a)({},e,Object(y.a)({},t,r||""))}))};return r.a.createElement("div",{className:"login-container"},r.a.createElement(M,{heading:m?"Register User":"User Login",switchText:m?"Existing users sign in":"New users register here",onClick:m?_:K,disabled:!Object.values(b).every((function(e){return!!e}))||D||T||m&&!h,buttonText:m?"Register":"Login",toggleClick:function(){return p(!m)}},r.a.createElement(P,{label:"Username",onChange:Q,id:"username",value:b.username}),r.a.createElement(P,{label:"Password",type:"password",onChange:Q,id:"password",value:b.password}),m&&r.a.createElement(P,{label:"Confirm password",type:"password",id:"verified",onChange:function(e){return O(e.target.value)},disabled:!b.password,error:T,helperText:T?"passwords do not match":""}),r.a.createElement(R,{options:o,optionLabel:G,label:"Role",onInputChange:function(e){V(e,E,"type")}}),r.a.createElement(R,{options:t.list,optionLabel:G,label:"Company",freeSolo:"administrator"===b.type&&m,onInputChange:function(e){V(e,E,"company",t.list)}})),r.a.createElement(C.a,{open:z,autoHideDuration:6e3,onClose:q},r.a.createElement(x.a,{elevation:6,variant:"filled",onClose:q,severity:"error"},Z)))},$=t(357),K=t(362),_=t(358),q=t(343),Q=(t(214),t(174)),V=t.n(Q),X=t(176),ee=t.n(X),ae=t(175),te=t.n(ae),ne=function(e){var a=e.start,t=e.end,n=e.current,c=e.label,o=r.a.useState(0),l=Object(i.a)(o,2),s=l[0],u=l[1];return setTimeout((function(){u(Math.min((n-a)/(t-a)*100,100))}),1e3),r.a.createElement(p.a,{className:"bar-container"},r.a.createElement(p.a,{pr:2,className:"bar-label"},r.a.createElement(m.a,null,c)),r.a.createElement(V.a,{color:s<75?"primary":"secondary",fontSize:"large"}),r.a.createElement(q.a,{color:s<75?"primary":"secondary",variant:"determinate",value:s,classes:{root:"bar-indicator"}}),s<95?r.a.createElement(te.a,{color:"disabled",fontSize:"large"}):r.a.createElement(ee.a,{color:"secondary",fontSize:"large"}))},re=(t(215),t(96)),ce=t.n(re),oe=t(367),ie=t(344),le=t(345),se=t(346),ue=t(347),me=t(348),pe=t(349),de=t(350),fe=t(351),be=(t(216),t(98)),Ee=t.n(be),ve=function(e){var a=e.report;try{a.partsReplaced=JSON.parse(a.partsReplaced),a.partsReplaced=JSON.parse(a.partsReplaced)}catch(t){}return r.a.createElement(oe.a,null,r.a.createElement(ie.a,{expandIcon:r.a.createElement(Ee.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(m.a,null,ce()(a.date).format("D MMM YYYY")),r.a.createElement(m.a,{className:"expansion-secondLabel"},"Maintenance Type: ".concat(G(a.type)))),r.a.createElement(le.a,{className:"expansionPanel-center"},r.a.createElement(m.a,null,"Notes: ".concat(a.notes)),r.a.createElement(se.a,null,r.a.createElement(ue.a,null,r.a.createElement(me.a,null,r.a.createElement(pe.a,null,r.a.createElement(de.a,null,"Original Part"),r.a.createElement(de.a,null,"New Part"))),r.a.createElement(fe.a,null,Object.keys(a.partsReplaced).map((function(e){return r.a.createElement(pe.a,{key:e},r.a.createElement(de.a,null,e.includes("newPart")?"--":e),r.a.createElement(de.a,null,a.partsReplaced[e]))})))))))},ge=(t(217),function(e){var a=e.parts,t=r.a.useState([]),n=Object(i.a)(t,2),c=n[0],o=n[1];return r.a.useState((function(){"demoPart"===a.join("")?o([{description:{id:"demoPart",name:"Offline demo part"},totalHours:100,maximumHours:3e3,history:[{tailNumber:"G-ZBJG"}]}]):J(a.join(",")).then((function(e){return o(e)}))}),[]),r.a.createElement(r.a.Fragment,null,c.map((function(e,a){return r.a.createElement(oe.a,{key:a},r.a.createElement(ie.a,{expandIcon:r.a.createElement(Ee.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},e.description&&r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null,e.description.id),r.a.createElement(m.a,{className:"expansion-secondLabel"},e.description.name))),r.a.createElement(le.a,{className:"expansionPanel-center"},e.history&&r.a.createElement(ne,{start:0,end:e.maximumHours,current:e.totalHours,label:"Current Aircraft: ".concat(e.history[e.history.length-1].tailNumber)})))})))}),he=t(352),ye=t(100),je=t.n(ye),Oe=t(182),we=t.n(Oe),Ne=t(181),Ce=t.n(Ne),xe=t(180),Se=t.n(xe),ke=t(177),Te=t.n(ke),He=t(179),Me=t.n(He),Le=t(178),Pe=t.n(Le),Ie=(t(218),function(e){var a=e.popUp,t=e.admin,n=e.setMenu,c=r.a.useState(!1),o=Object(i.a)(c,2),l=o[0],s=o[1],u=r.a.useState(!1),m=Object(i.a)(u,2),d=m[0],f=m[1],b=[];b=t?[{label:"Register Aircraft",icon:Te.a},{label:"Assign Maintainer",icon:Pe.a},{label:"Sell Aircraft",icon:Me.a}]:[{label:"Update Hours",icon:Se.a},{label:"Report Maintenance",icon:Ce.a},{label:"New Part",icon:we.a}];var E=function(e){null===e.relatedTarget&&(s(!1),setTimeout((function(){return f(!1)}),750))};return r.a.createElement("div",{className:"fab",onBlur:E},r.a.createElement("div",{className:"options-container ".concat(d?"visible":"")},b.map((function(e,t){var c=e.icon;return r.a.createElement(p.a,{mb:1,key:e.label,className:"option ".concat(l?"show":""),style:{transitionDelay:"".concat(.1*t,"s")}},r.a.createElement(he.a,{variant:"extended",onClick:function(){a.set(!0),E({relatedTarget:null}),n(e.label)}},r.a.createElement(c,{className:"extended-icon"}),e.label))}))),r.a.createElement(he.a,{color:"primary","aria-label":"add",onClick:function(){l?E({relatedTarget:null}):(f(!0),s(!0))}},r.a.createElement(je.a,{className:"button-main ".concat(l?"open":"")})))}),De=t(368),Re=t(353),Ae=function(e){var a=e.popState,t=e.title,n=e.children;return r.a.createElement(De.a,{open:a.open,onClose:function(){a.set(!1)},"aria-labelledby":"form-dialog-title"},r.a.createElement(Re.a,{id:"form-dialog-title"},t),n)},Fe=t(354),Be=t(355),Ue=t(356),ze=(t(62),function(e){var a=e.popState,t=e.current,n=e.trigger,c=r.a.useState({aircraft:"",tailNumber:"",company:t.owner.slice(-1)[0].company,image:""}),o=Object(i.a)(c,2),l=o[0],s=o[1],u=r.a.useState(!1),m=Object(i.a)(u,2),p=m[0],f=m[1],b=function(){s({aircraft:"",tailNumber:"",company:"",image:""}),a.set(!1)},E=function(){var e=Object(N.a)(w.a.mark((function e(){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,Y("aircraft","POST",l);case 3:a=e.sent,console.log(a),f(!1),n(a),a&&b();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(e){var a=e.target;s((function(e){return Object(j.a)({},e,Object(y.a)({},a.id,a.value))}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Fe.a,{className:"form-box"},r.a.createElement(Be.a,null,"Register a new aircraft to be tracked in the Hyperledger Fabric blockchain network."),r.a.createElement(P,{label:"Aircraft Name",id:"aircraft",onChange:v,value:l.aircraft,disabled:p}),r.a.createElement(P,{label:"Tail Number",id:"tailNumber",onChange:v,value:l.tailNumber,disabled:p}),r.a.createElement(P,{label:"Company",value:G(l.company)}),r.a.createElement(P,{label:"Image URL",id:"image",onChange:v,value:l.image,disabled:p})),r.a.createElement(Ue.a,null,r.a.createElement(d.a,{variant:"contained",onClick:b,color:"primary",disabled:p},"Cancel"),r.a.createElement(d.a,{variant:"contained",onClick:E,color:"primary",disabled:Object.values(l).some((function(e){return!e}))||p},"Submit")))}),Je=function(e){var a=e.popState,t=e.current,n=e.trigger,c=r.a.useState({tailNumber:t.description.tailNumber,company:t.owner.slice(-1)[0].company,username:""}),o=Object(i.a)(c,2),l=o[0],s=o[1],u=r.a.useState([]),m=Object(i.a)(u,2),p=m[0],f=m[1],b=r.a.useState(!1),E=Object(i.a)(b,2),v=E[0],g=E[1];r.a.useEffect((function(){W().then((function(e){return f(e)}))}),[]);var h=function(){s({tailNumber:"",company:"",username:""}),a.set(!1)},O=function(){var e=Object(N.a)(w.a.mark((function e(){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,Y("admin","POST",l);case 3:a=e.sent,console.log(a),g(!1),n(a),a&&h();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Fe.a,{className:"form-box"},r.a.createElement(Be.a,null,"Assign a maintainer to have access to the corresponding aircraft."),r.a.createElement(P,{label:"Tail Number",id:"tailNumber",value:l.tailNumber,disabled:v}),r.a.createElement(P,{label:"Company",value:G(l.company),disabled:v}),r.a.createElement(R,{options:p,optionLabel:function(e){return e},label:"Maintainer Username",onInputChange:function(e){!function(e,a,t,n){var r=e.target.value;"number"===typeof r&&(r=e.target.innerText.toLowerCase()),a((function(e){return Object(j.a)({},e,Object(y.a)({},t,r||""))}))}(e,s,"username")},disabled:v})),r.a.createElement(Ue.a,null,r.a.createElement(d.a,{variant:"contained",onClick:h,color:"primary",disabled:v},"Cancel"),r.a.createElement(d.a,{variant:"contained",onClick:O,color:"primary",disabled:Object.values(l).some((function(e){return!e}))||v},"Submit")))},We=function(e){var a=e.popState,t=(e.current,e.trigger),n=r.a.useState({id:"",name:"",maximumHours:""}),c=Object(i.a)(n,2),o=c[0],l=c[1],s=r.a.useState(!1),u=Object(i.a)(s,2),m=u[0],p=u[1],f=function(){l({id:"",name:"",maximumHours:""}),a.set(!1)},b=function(){var e=Object(N.a)(w.a.mark((function e(){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={description:{id:o.id,name:o.name},maximumHours:o.maximumHours},p(!0),e.next=4,Y("part","POST",a);case 4:n=e.sent,console.log(n),p(!1),t(n),n&&f();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(e){var a=e.target;a.value="maximumHours"===a.id&&Number(a.value)<0&&""!==a.value?0:a.value,l((function(e){return Object(j.a)({},e,Object(y.a)({},a.id,a.value))}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Fe.a,{className:"form-box"},r.a.createElement(Be.a,null,"Register a new part to be tracked in the Hyperledger Fabric blockchain network."),r.a.createElement(P,{label:"Part ID",id:"id",value:o.id,onChange:E,disabled:m}),r.a.createElement(P,{label:"Short Description",id:"name",value:o.name,onChange:E,disabled:m}),r.a.createElement(P,{type:"number",label:"Maximum Flight Hours",value:o.maximumHours,id:"maximumHours",onChange:E,disabled:m})),r.a.createElement(Ue.a,null,r.a.createElement(d.a,{variant:"contained",onClick:f,color:"primary",disabled:m},"Cancel"),r.a.createElement(d.a,{variant:"contained",onClick:b,color:"primary",disabled:o.maximumHours<=0||Object.values(o).some((function(e){return!e}))||m},"Submit")))},Ye=t(303),Ge=t(342),Ze=t(219),$e=function(e){var a=e.popState,t=e.current,n=e.trigger,c=r.a.useState({tailNumber:t.description.tailNumber,type:"",notes:""}),o=Object(i.a)(c,2),l=o[0],s=o[1],u=["general","A","B","C","D"],m=r.a.useState({}),f=Object(i.a)(m,2),b=f[0],E=f[1],v=r.a.useState(!1),g=Object(i.a)(v,2),h=g[0],O=g[1];r.a.useEffect((function(){var e={};t.partsList.forEach((function(a){e[a]=""})),C(e)}),[t.partsList]);var C=function(e){E((function(a){return Object(j.a)({},a,{},e)}))},x=function(){var e=Object(N.a)(w.a.mark((function e(){var a,t,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=b,Object.keys(a).forEach((function(e){""===b[e]&&delete a[e]})),t=Object(j.a)({},l,{replacedParts:a}),O(!0),e.next=6,Y("aircraft","PATCH",t);case 6:r=e.sent,console.log(r),O(!1),n(r),r&&S();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){s({tailNumber:"",type:"",notes:""}),a.set(!1)},k=function(e){var a=e.target;C(Object(y.a)({},a.id,a.value))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Fe.a,{className:"form-box"},r.a.createElement(Be.a,null,"Input data for a maintenance report to be stored with the aircraft."),r.a.createElement(P,{label:"Tail Number",id:"tailNumber",value:l.tailNumber,disabled:h}),r.a.createElement(R,{options:u,optionLabel:G,label:"Maintenance Type",onInputChange:function(e){!function(e,a,t,n){var r=e.target.value;"number"===typeof r&&(r=e.target.innerText),a((function(e){return Object(j.a)({},e,Object(y.a)({},t,r||""))}))}(e,s,"type")},disabled:h}),r.a.createElement(Ye.a,{placeholder:"Notes",rowsMin:5,rowsMax:5,id:"notes",onChange:function(e){var a=e.target;s((function(e){return Object(j.a)({},e,Object(y.a)({},a.id,a.value))}))},className:"textArea",disabled:h}),r.a.createElement(p.a,{my:1,className:"textArea"},r.a.createElement(se.a,{className:"table-container"},r.a.createElement(ue.a,{size:"small",stickyHeader:!0},r.a.createElement(me.a,null,r.a.createElement(pe.a,null,r.a.createElement(de.a,null,"Current Part ID"),r.a.createElement(de.a,null,"New Part ID"))),r.a.createElement(fe.a,null,Object.keys(b).map((function(e){return r.a.createElement(pe.a,{key:e},r.a.createElement(de.a,null,e.includes("newPart")?"--":e),r.a.createElement(de.a,null,r.a.createElement(p.a,{className:"part-input-box"},r.a.createElement(Ge.a,{placeholder:"Part ID",id:e,value:b[e],onChange:k,disabled:h}))))})))))),r.a.createElement(d.a,{variant:"outlined",onClick:function(){var e=Ze.randomBytes(5).toString("hex"),a=Object(y.a)({},"newPart".concat(e),"");C(a)},startIcon:r.a.createElement(je.a,null),disabled:h},"Add Item")),r.a.createElement(Ue.a,null,r.a.createElement(d.a,{variant:"contained",onClick:S,color:"primary",disabled:h},"Cancel"),r.a.createElement(d.a,{variant:"contained",onClick:x,color:"primary",disabled:Object.values(l).some((function(e){return!e}))||h},"Submit")))},Ke=function(e){var a=e.popState,t=e.current,n=e.companies,c=e.trigger,o=r.a.useState({tailNumber:t.description.tailNumber,company:""}),l=Object(i.a)(o,2),s=l[0],u=l[1],m=r.a.useState(!1),p=Object(i.a)(m,2),f=p[0],b=p[1],E=function(){u({tailNumber:"",company:""}),a.set(!1)},v=n.list.filter((function(e){return e!==t.owner.slice(-1)[0].company})),g=function(){var e=Object(N.a)(w.a.mark((function e(){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,Y("admin","PATCH",s);case 3:a=e.sent,console.log(a),b(!1),c(a),a&&E();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Fe.a,{className:"form-box"},r.a.createElement(Be.a,null,"Sell the corresponding aircraft to another company."),r.a.createElement(P,{label:"Tail Number",id:"tailNumber",value:s.tailNumber,disabled:f}),r.a.createElement(R,{options:v,optionLabel:G,label:"Company",onInputChange:function(e){!function(e,a,t,n){var r=e.target.value;"number"===typeof r&&(r=e.target.innerText.toLowerCase()),a((function(e){return Object(j.a)({},e,Object(y.a)({},t,r||""))}))}(e,u,"company")},disabled:f})),r.a.createElement(Ue.a,null,r.a.createElement(d.a,{variant:"contained",onClick:E,color:"primary",disabled:f},"Cancel"),r.a.createElement(d.a,{variant:"contained",onClick:g,color:"primary",disabled:Object.values(s).some((function(e){return!e}))||f},"Submit")))},_e=function(e){var a=e.popState,t=e.current,n=e.trigger,c=r.a.useState({tailNumber:t.description.tailNumber,hours:""}),o=Object(i.a)(c,2),l=o[0],s=o[1],u=r.a.useState(!1),m=Object(i.a)(u,2),p=m[0],f=m[1],b=function(){s({tailNumber:"",hours:""}),a.set(!1)},E=function(){var e=Object(N.a)(w.a.mark((function e(){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,Y("flight","POST",l);case 3:a=e.sent,console.log(a),f(!1),n(a),a&&b();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Fe.a,{className:"form-box"},r.a.createElement(Be.a,null,"Update the flight hours for an aircraft and its corresponding parts."),r.a.createElement(P,{label:"Tail Number",id:"tailNumber",value:l.tailNumber,disabled:p}),r.a.createElement(P,{type:"number",label:"Flight Hours",value:l.hours,id:"hours",onChange:function(e){var a=e.target,t=Number(a.value)<0&&""!==a.value?0:a.value;s((function(e){return Object(j.a)({},e,Object(y.a)({},a.id,t))}))},disabled:p})),r.a.createElement(Ue.a,null,r.a.createElement(d.a,{variant:"contained",onClick:b,color:"primary",disabled:p},"Cancel"),r.a.createElement(d.a,{variant:"contained",onClick:E,color:"primary",disabled:l.hours<=0||Object.values(l).some((function(e){return!e}))||p},"Submit")))};function qe(e){var a=e.children,t=e.value,n=e.index,c=Object(I.a)(e,["children","value","index"]);return r.a.createElement(m.a,Object.assign({component:"div",role:"tabpanel",hidden:t!==n,id:"vertical-tabpanel-".concat(n),"aria-labelledby":"vertical-tab-".concat(n),className:"detailContainer"},c),t===n&&r.a.createElement(p.a,{p:3,className:"detailContainer-box"},a))}var Qe=Object($.a)((function(e){return{tabs:{borderRight:"1px solid ".concat(e.palette.divider),color:e.palette.text.main,minWidth:"15%"}}})),Ve=function(e){var a=e.condition,t=e.children;return a?t:r.a.createElement(s.a,{position:"static",color:"transparent"},t)},Xe={AssignMaintainer:Je,ReportMaintenance:$e,NewPart:We,RegisterAircraft:ze,SellAircraft:Ke,UpdateHours:_e},ea=function(e){var a=e.connected,t=e.userData,n=e.companies,c=Qe(),o=r.a.useState(0),l=Object(i.a)(o,2),s=l[0],u=l[1],d=r.a.useState(!1),f=Object(i.a)(d,2),b=f[0],E=f[1],v=r.a.useState([]),g=Object(i.a)(v,2),h=g[0],y=g[1],j=r.a.useState(!1),O=Object(i.a)(j,2),w={open:O[0],set:O[1]},N=r.a.useState(""),S=Object(i.a)(N,2),k=S[0],T=S[1],H=r.a.useState(!1),M=Object(i.a)(H,2),L=M[0],P=M[1],I=r.a.useState(null),D=Object(i.a)(I,2),R=D[0],A=D[1],F=function(e,a){"clickaway"!==a&&(P(!1),setTimeout((function(){return A(null)}),100))};r.a.useEffect((function(){function e(){window.innerWidth<=600&&!b?E(!0):window.innerWidth>600&&b&&E(!1)}return e(),window.addEventListener("resize",e),function(a){window.removeEventListener("resize",e)}}),[b]),r.a.useEffect((function(){if(a)z(t.info.aircraft.join(",")).then((function(e){y(e),console.log(e)}));else{y(new Array(20).fill({description:{aircraft:"Boeing 787-8 Dreamliner",tailNumber:"G-ZBJG",image:"https://cdn.jetphotos.com/full/6/27290_1582395615.jpg"},maintenanceSchedule:["A","B","C","D"].map((function(e){return{type:e,lastCompletedDate:new Date,lastCompletedHours:Math.round(100*Math.random()),maxHours:250}})),flightHours:Math.round(250*Math.random()),owner:[{company:"british airways",purchaseDate:new Date,soldDate:null}],partsList:["demoPart"],maintainers:[],maintenanceReports:new Array(2).fill({date:new Date,type:"General",notes:"Test maintenance report",partsReplaced:JSON.stringify({newPart:"test part","testing part":"testing parts"})})}))}}),[a,t.info.aircraft]);var B=Xe[k.split(" ").join("")];return r.a.createElement("div",{className:"mainContainer ".concat(b?"verticalOrient":"horizontalOrient")},r.a.createElement(Ve,{condition:!b},r.a.createElement(K.a,{orientation:b?"horizontal":"vertical",variant:"scrollable",value:s,onChange:function(e,a){u(a)},className:c.tabs},h.map((function(e,a){return r.a.createElement(_.a,Object.assign({label:e.description.tailNumber,key:"plane".concat(a)},function(e){return{id:"vertical-tab-".concat(e),"aria-controls":"vertical-tabpanel-".concat(e)}}(a)))})))),h.map((function(e,a){return r.a.createElement(qe,{value:s,index:a,key:"aircraft".concat(a)},r.a.createElement(p.a,{className:"panel-header-details"},r.a.createElement(m.a,{variant:"h2"},e.description.aircraft),r.a.createElement(m.a,{variant:"h6"},"Tail Number: ".concat(e.description.tailNumber)),r.a.createElement(m.a,{variant:"h6"},"Company: ".concat(G(e.owner[e.owner.length-1].company)))),r.a.createElement(p.a,{className:"panel-header-image"},r.a.createElement("img",{src:e.description.image,alt:"".concat(e.description.aircraft," ").concat(e.description.tailNumber)})),r.a.createElement(p.a,{my:1,className:"panel-content"},r.a.createElement(m.a,{variant:"h5"},"Maintenance Checks"),r.a.createElement(p.a,{pt:1},e.maintenanceSchedule.map((function(a){return r.a.createElement(ne,{start:a.lastCompletedHours,end:a.lastCompletedHours+a.maxHours,current:e.flightHours,label:"".concat(a.type," Check - Last Completed: ").concat(ce()(a.lastCompletedDate).format("D MMM YYYY")),key:a.type})})))),r.a.createElement(p.a,{my:1,className:"panel-content"},r.a.createElement(m.a,{variant:"h5"},"Parts Provenance"),r.a.createElement(p.a,{pt:1},e.partsList.length>0&&r.a.createElement(ge,{parts:e.partsList}))),r.a.createElement(p.a,{my:1,className:"panel-content"},r.a.createElement(m.a,{variant:"h5"},"Maintenance Reports"),e.maintenanceReports.length>0&&r.a.createElement(p.a,{pt:1},e.maintenanceReports.map((function(e,a){return r.a.createElement(ve,{report:e,key:a})})))))})),r.a.createElement(Ie,{admin:"administrator"===t.info.type,popUp:w,setMenu:T}),r.a.createElement(Ae,{popState:w,title:k},k&&r.a.createElement(B,{popState:w,current:h[s],companies:n,trigger:function(e){P(!0),A(e)}})),r.a.createElement(C.a,{open:L,autoHideDuration:6e3,onClose:F},r.a.createElement(x.a,{elevation:6,variant:"filled",onClose:F,severity:R?"success":"error"},R?"Transaction successful":"Transaction failed")))};var aa=function(){var e=r.a.useState(!1),a=Object(i.a)(e,2),t=a[0],n=a[1],c=r.a.useState([]),o=Object(i.a)(c,2),s=o[0],u=o[1],m={list:s,setList:u},p=r.a.useState({}),d=Object(i.a)(p,2),f=d[0],b={info:f,setInfo:d[1]};return r.a.useEffect((function(){B().then((function(e){console.log(e),u(e),n(!0)})).catch((function(e){console.log(e),n(!1),u(["air canada","KLM","united","delta"])}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{connected:t}),r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/aircraft"},0===Object.keys(f).length?r.a.createElement(l.a,{to:"/"}):r.a.createElement(ea,{connected:t,userData:b,companies:m})),r.a.createElement(l.b,{path:"/"},r.a.createElement(Z,{connected:t,companies:m,userData:b}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ta=t(77),na=t(183),ra=t(359),ca=Object(na.a)({palette:{type:"dark",text:{main:"#fff"}},overrides:{MuiFormLabel:{root:{"&$focused":{color:"white"}}}}});o.a.render(r.a.createElement(ra.a,{theme:ca},r.a.createElement(ta.a,{basename:"/"},r.a.createElement(aa,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},62:function(e,a,t){}},[[197,1,2]]]);
//# sourceMappingURL=main.0979e6c4.chunk.js.map