(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{198:function(e,a,t){e.exports=t(301)},203:function(e,a,t){},204:function(e,a,t){},211:function(e,a,t){},212:function(e,a,t){},213:function(e,a,t){},214:function(e,a,t){},215:function(e,a,t){},216:function(e,a,t){},217:function(e,a,t){},218:function(e,a,t){},219:function(e,a,t){},220:function(e,a,t){},224:function(e,a){},226:function(e,a){},258:function(e,a){},259:function(e,a){},301:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(15),o=t.n(c),i=(t(203),t(7)),l=t(53),s=t(334),u=t(337),m=t(71),p=t(364),d=t(338),f=t(339),b=t(171),E=t.n(b),v=t(173),g=t.n(v),h=(t(204),function(e){var a=e.connected,t=Object(l.g)(),n=Object(l.h)();return r.a.createElement(s.a,{position:"sticky"},r.a.createElement(u.a,null,r.a.createElement(E.a,{fontSize:"large"}),r.a.createElement(m.a,{variant:"h6",className:"heading-web"},"Airline MRO + Hyperledger Fabric"),r.a.createElement(m.a,{variant:"h6",className:"heading-mobile"},"Airline MRO"),r.a.createElement(p.a,{px:2},"/aircraft"===n.pathname&&r.a.createElement(d.a,{color:"inherit",onClick:function(){window.sessionStorage.removeItem("jwt"),t.push("/"),console.log("logout callback")}},"Logout")),r.a.createElement(f.a,{title:a?"Network Connected":"Not Connected"},r.a.createElement(g.a,{color:a?"inherit":"secondary"}))))}),y=t(18),j=t(20),O=t(11),w=t.n(O),x=t(16),N=(t(211),t(369)),C=t(367),k=t(340),S=t(341),T=t(342),D=t(343),H=(t(212),function(e){var a=e.heading,t=e.onClick,n=e.disabled,c=e.buttonText,o=e.switchText,i=e.toggleClick,l=e.children;return r.a.createElement(p.a,{mt:6,mx:5,className:"loginCard-container"},r.a.createElement(k.a,{raised:!0,className:"loginCard-card"},r.a.createElement(S.a,{title:a,className:"loginCard-center"}),r.a.createElement(T.a,{className:"loginCard-content loginCard-center"},l),r.a.createElement(D.a,{className:"loginCard-center"},r.a.createElement(p.a,{mb:1},r.a.createElement(d.a,{onClick:i},o)),r.a.createElement(d.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:t,disabled:n,className:"loginCard-mainButton"},c))))}),M=t(363),P=(t(213),function(e){var a=Object.assign({},e);return r.a.createElement(p.a,{my:1,className:"boxWidth"},r.a.createElement(M.a,Object.assign({},a,{variant:"outlined",fullWidth:!0})))}),A=t(101),L=t(366),I=(t(214),function(e){var a=e.options,t=e.optionLabel,n=e.freeSolo,c=void 0!==n&&n,o=e.onInputChange,i=(e.id,Object(A.a)(e,["options","optionLabel","freeSolo","onInputChange","id"]));return r.a.createElement(L.a,{options:a,getOptionLabel:t,freeSolo:c,onInputChange:o,className:"autoCompleteContainer",renderInput:function(e){return r.a.createElement(P,Object.assign({},e,i))}})}),R="https://35.193.103.180:3000/",F=function(){return{"Content-Type":"application/json",Authorization:"Bearer ".concat(window.sessionStorage.getItem("jwt"))}},z=function(){var e=Object(x.a)(w.a.mark((function e(a){var t,n,r,c=arguments;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=c.length>1&&void 0!==c[1]?c[1]:{},r=0;case 2:if(!(r<3)){e.next=13;break}return e.next=5,fetch(a,t);case 5:if(200!==(n=e.sent).status){e.next=8;break}return e.abrupt("break",13);case 8:return e.next=10,new Promise((function(e){return setTimeout(e,1e3)}));case 10:r++,e.next=2;break;case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Y=function(){var e=Object(x.a)(w.a.mark((function e(){var a,t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(R);case 2:return a=e.sent,e.next=5,a.json();case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(x.a)(w.a.mark((function e(a,t){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.postType=a,e.next=3,z(R+"login",{method:"POST",headers:F(),body:JSON.stringify(t)});case 3:if(n=e.sent,console.log(n),"login"!==a){e.next=12;break}return e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r);case 12:return e.abrupt("return",200===n.status);case 13:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),U=function(){var e=Object(x.a)(w.a.mark((function e(a){var t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z(R+"aircraft?id=".concat(a));case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(a){return e.apply(this,arguments)}}(),J=function(){var e=Object(x.a)(w.a.mark((function e(a){var t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z(R+"part?id=".concat(a));case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(a){return e.apply(this,arguments)}}(),W=function(){var e=Object(x.a)(w.a.mark((function e(){var a,t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z(R+"admin",{method:"GET",headers:F()});case 3:return a=e.sent,e.next=6,a.json();case 6:return t=e.sent,e.abrupt("return",t);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(x.a)(w.a.mark((function e(a,t,n){var r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z(R+a,{method:t,headers:F(),body:JSON.stringify(n)});case 3:return r=e.sent,e.abrupt("return",200===r.status);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a,t,n){return e.apply(this,arguments)}}(),V=function(e){return e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")},Z=function(e){var a=e.connected,t=e.companies,n=e.userData,c=Object(l.g)(),o=["Administrator","Maintainer"],s=r.a.useState(!1),u=Object(i.a)(s,2),m=u[0],p=u[1],d=r.a.useState({username:"",password:"",type:"",company:""}),f=Object(i.a)(d,2),b=f[0],E=f[1],v=r.a.useState(""),g=Object(i.a)(v,2),h=g[0],O=g[1],k=r.a.useState(!1),S=Object(i.a)(k,2),T=S[0],D=S[1],M=r.a.useState(!1),A=Object(i.a)(M,2),L=A[0],R=A[1],F=r.a.useState(!1),z=Object(i.a)(F,2),Y=z[0],U=z[1],J=r.a.useState(""),W=Object(i.a)(J,2),G=W[0],Z=W[1];r.a.useEffect((function(){D(!!h&&b.password!==h)}),[b.password,h]);var $=function(){var e=Object(x.a)(w.a.mark((function e(){var t,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("login click"),delete(t=b).verified,e.prev=3,!a){e.next=10;break}return e.next=7,B("login",t);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0={user:{type:b.type}};case 11:r=e.t0,console.log(r),n.setInfo(r.user),window.sessionStorage.setItem("jwt",r.jwtToken),c.push("/aircraft"),e.next=22;break;case 18:e.prev=18,e.t1=e.catch(3),Z("Error signing in"),U(!0);case 22:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(x.a)(w.a.mark((function e(){var t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("register click"),R(!0),delete(t=b).verified,!a){e.next=10;break}return e.next=7,B("register",t);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=!0;case 11:n=e.t0,R(!1),console.log(n),n?$():(Z("Error registering"),U(!0));case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(e,a){"clickaway"!==a&&U(!1)},q=function(e){var a=e.target.id,t=e.target.value;E((function(e){return Object(j.a)({},e,Object(y.a)({},a,t))}))},Q=function(e,a,t,n){var r=e.target.value;"number"===typeof r&&(r=e.target.innerText.toLowerCase()),a((function(e){return Object(j.a)({},e,Object(y.a)({},t,r||""))}))};return r.a.createElement("div",{className:"login-container"},r.a.createElement(H,{heading:m?"Register User":"User Login",switchText:m?"Existing users sign in":"New users register here",onClick:m?K:$,disabled:!Object.values(b).every((function(e){return!!e}))||L||T||m&&!h,buttonText:m?"Register":"Login",toggleClick:function(){return p(!m)}},r.a.createElement(P,{label:"Username",onChange:q,id:"username",value:b.username}),r.a.createElement(P,{label:"Password",type:"password",onChange:q,id:"password",value:b.password}),m&&r.a.createElement(P,{label:"Confirm password",type:"password",id:"verified",onChange:function(e){return O(e.target.value)},disabled:!b.password,error:T,helperText:T?"passwords do not match":""}),r.a.createElement(I,{options:o,optionLabel:V,label:"Role",onInputChange:function(e){Q(e,E,"type")}}),r.a.createElement(I,{options:t.list,optionLabel:V,label:"Company",freeSolo:"administrator"===b.type&&m,onInputChange:function(e){Q(e,E,"company",t.list)}})),r.a.createElement(N.a,{open:Y,autoHideDuration:6e3,onClose:_},r.a.createElement(C.a,{elevation:6,variant:"filled",onClose:_,severity:"error"},G)))},$=t(360),K=t(365),_=t(361),q=t(354),Q=t(306),X=t(183),ee=t.n(X),ae=t(345),te=(t(215),t(174)),ne=t.n(te),re=t(176),ce=t.n(re),oe=t(175),ie=t.n(oe),le=function(e){var a=e.start,t=e.end,n=e.current,c=e.label,o=r.a.useState(0),l=Object(i.a)(o,2),s=l[0],u=l[1];return setTimeout((function(){u(Math.min((n-a)/(t-a)*100,100))}),1e3),r.a.createElement(p.a,{className:"bar-container"},r.a.createElement(p.a,{pr:2,className:"bar-label"},c),r.a.createElement(f.a,{arrow:!0,title:a},r.a.createElement(ne.a,{color:s<75?"primary":"secondary",fontSize:"large"})),r.a.createElement(f.a,{arrow:!0,title:n},r.a.createElement(ae.a,{color:s<75?"primary":"secondary",variant:"determinate",value:s,classes:{root:"bar-indicator"}})),r.a.createElement(f.a,{arrow:!0,title:t},s<95?r.a.createElement(ie.a,{color:"disabled",fontSize:"large"}):r.a.createElement(ce.a,{color:"secondary",fontSize:"large"})))},se=(t(216),t(52)),ue=t.n(se),me=t(370),pe=t(346),de=t(347),fe=t(348),be=t(349),Ee=t(350),ve=t(351),ge=t(352),he=t(353),ye=(t(217),t(98)),je=t.n(ye),Oe=function(e){var a=e.report;try{a.partsReplaced=JSON.parse(a.partsReplaced),a.partsReplaced=JSON.parse(a.partsReplaced)}catch(t){}return r.a.createElement(me.a,null,r.a.createElement(pe.a,{expandIcon:r.a.createElement(je.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(m.a,null,ue()(a.date).format("D MMM YYYY")),r.a.createElement(m.a,{className:"expansion-secondLabel"},"Maintenance Type: ".concat(V(a.type)))),r.a.createElement(de.a,{className:"expansionPanel-center"},r.a.createElement(m.a,null,"Notes: ".concat(a.notes)),r.a.createElement(fe.a,null,r.a.createElement(be.a,null,r.a.createElement(Ee.a,null,r.a.createElement(ve.a,null,r.a.createElement(ge.a,null,"Original Part"),r.a.createElement(ge.a,null,"New Part"))),r.a.createElement(he.a,null,Object.keys(a.partsReplaced).map((function(e){return r.a.createElement(ve.a,{key:e},r.a.createElement(ge.a,null,e.includes("newPart")?"--":e),r.a.createElement(ge.a,null,a.partsReplaced[e]))})))))))},we=(t(218),t(219),function(e){var a=e.objArray,t=e.mapping,n=e.large,c=void 0!==n&&n;return r.a.createElement("div",null,r.a.createElement(m.a,{variant:c?"h6":"body"},"History:"),r.a.createElement(p.a,{px:1,pb:1},r.a.createElement(fe.a,null,r.a.createElement(be.a,{size:"small"},r.a.createElement(Ee.a,null,r.a.createElement(ve.a,null,Object.values(t).map((function(e){return r.a.createElement(ge.a,{key:e},e)})))),r.a.createElement(he.a,null,a.map((function(e,a){return r.a.createElement(ve.a,{key:a},Object.keys(t).map((function(a){return r.a.createElement(ge.a,{key:a},function(e,a){return"hours"===a?e:ue()(e).isValid()?ue()(e).format("D MMM YYYY"):e?V(e):"--"}(e[a],a))})))})))))))}),xe=function(e){var a=e.parts,t=e.refresh,n=r.a.useState([]),c=Object(i.a)(n,2),o=c[0],l=c[1],s=r.a.useState(!1),u=Object(i.a)(s,2),p=u[0],d=u[1];return r.a.useEffect((function(){"demoPart"===a.join("")?l([{description:{id:"demoPart",name:"Offline demo part"},totalHours:100,maximumHours:3e3,history:[{tailNumber:"G-ZBJG",hours:100,onDate:new Date,offDate:null}]}]):(d(!0),J(a.join(",")).then((function(e){l(e),d(!1)})))}),[a,t]),r.a.createElement(r.a.Fragment,null,p&&r.a.createElement("div",{className:"part-loading-container"},r.a.createElement(q.a,null)),void 0!==o&&o.map((function(e,a){return r.a.createElement(me.a,{key:a},r.a.createElement(pe.a,{expandIcon:r.a.createElement(je.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},e.description&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"div-spacing"},r.a.createElement(m.a,null,e.description.id)),r.a.createElement(m.a,{className:"expansion-secondLabel"},e.description.name))),r.a.createElement(de.a,{className:"expansionPanel-center"},e.history&&r.a.createElement(r.a.Fragment,null,r.a.createElement(le,{start:0,end:e.maximumHours,current:e.totalHours,label:"Current Aircraft: ".concat(e.history[e.history.length-1].tailNumber)}),r.a.createElement(we,{objArray:e.history,mapping:{tailNumber:"Aircraft",hours:"Hours",onDate:"On Date",offDate:"Off Date"}}))))})))},Ne=t(355),Ce=t(100),ke=t.n(Ce),Se=t(182),Te=t.n(Se),De=t(181),He=t.n(De),Me=t(180),Pe=t.n(Me),Ae=t(177),Le=t.n(Ae),Ie=t(179),Re=t.n(Ie),Fe=t(178),ze=t.n(Fe),Ye=(t(220),function(e){var a=e.popUp,t=e.admin,n=e.setMenu,c=r.a.useState(!1),o=Object(i.a)(c,2),l=o[0],s=o[1],u=r.a.useState(!1),m=Object(i.a)(u,2),d=m[0],f=m[1],b=[];b=t?[{label:"Register Aircraft",icon:Le.a},{label:"Assign Maintainer",icon:ze.a},{label:"Sell Aircraft",icon:Re.a}]:[{label:"Update Hours",icon:Pe.a},{label:"Report Maintenance",icon:He.a},{label:"New Part",icon:Te.a}];var E=function(e){null===e.relatedTarget&&(s(!1),setTimeout((function(){return f(!1)}),750))};return r.a.createElement("div",{className:"fab",onBlur:E},r.a.createElement("div",{className:"options-container ".concat(d?"visible":"")},b.map((function(e,t){var c=e.icon;return r.a.createElement(p.a,{mb:1,key:e.label,className:"option ".concat(l?"show":""),style:{transitionDelay:"".concat(.1*t,"s")}},r.a.createElement(Ne.a,{variant:"extended",onClick:function(){a.set(!0),E({relatedTarget:null}),n(e.label)}},r.a.createElement(c,{className:"extended-icon"}),e.label))}))),r.a.createElement(Ne.a,{color:"primary","aria-label":"add",onClick:function(){l?E({relatedTarget:null}):(f(!0),s(!0))}},r.a.createElement(ke.a,{className:"button-main ".concat(l?"open":"")})))}),Be=t(371),Ue=t(356),Je=function(e){var a=e.popState,t=e.title,n=e.children;return r.a.createElement(Be.a,{open:a.open,onClose:function(){a.set(!1)},"aria-labelledby":"form-dialog-title"},r.a.createElement(Ue.a,{id:"form-dialog-title"},t),n)},We=t(357),Ge=t(358),Ve=t(359),Ze=(t(63),function(e){var a=e.popState,t=e.current,n=e.trigger,c=r.a.useState({aircraft:"",tailNumber:"",company:t.owner.slice(-1)[0].company,image:""}),o=Object(i.a)(c,2),l=o[0],s=o[1],u=r.a.useState(!1),m=Object(i.a)(u,2),p=m[0],f=m[1],b=function(){s({aircraft:"",tailNumber:"",company:"",image:""}),a.set(!1)},E=function(){var e=Object(x.a)(w.a.mark((function e(){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,G("aircraft","POST",l);case 3:a=e.sent,console.log(a),f(!1),n(a),a&&b();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(e){var a=e.target;s((function(e){return Object(j.a)({},e,Object(y.a)({},a.id,a.value))}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(We.a,{className:"form-box"},r.a.createElement(Ge.a,null,"Register a new aircraft to be tracked in the Hyperledger Fabric blockchain network."),r.a.createElement(P,{label:"Aircraft Name",id:"aircraft",onChange:v,value:l.aircraft,disabled:p}),r.a.createElement(P,{label:"Tail Number",id:"tailNumber",onChange:v,value:l.tailNumber,disabled:p}),r.a.createElement(P,{label:"Company",value:V(l.company)}),r.a.createElement(P,{label:"Image URL",id:"image",onChange:v,value:l.image,disabled:p})),r.a.createElement(Ve.a,null,r.a.createElement(d.a,{variant:"contained",onClick:b,color:"primary",disabled:p},"Cancel"),r.a.createElement(d.a,{variant:"contained",onClick:E,color:"primary",disabled:Object.values(l).some((function(e){return!e}))||p},"Submit")))}),$e=function(e){var a=e.popState,t=e.current,n=e.trigger,c=r.a.useState({tailNumber:t.description.tailNumber,company:t.owner.slice(-1)[0].company,username:""}),o=Object(i.a)(c,2),l=o[0],s=o[1],u=r.a.useState([]),m=Object(i.a)(u,2),p=m[0],f=m[1],b=r.a.useState(!1),E=Object(i.a)(b,2),v=E[0],g=E[1];r.a.useEffect((function(){W().then((function(e){return f(e)}))}),[]);var h=function(){s({tailNumber:"",company:"",username:""}),a.set(!1)},O=function(){var e=Object(x.a)(w.a.mark((function e(){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,G("admin","POST",l);case 3:a=e.sent,console.log(a),g(!1),n(a),a&&h();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(We.a,{className:"form-box"},r.a.createElement(Ge.a,null,"Assign a maintainer to have access to the corresponding aircraft."),r.a.createElement(P,{label:"Tail Number",id:"tailNumber",value:l.tailNumber,disabled:v}),r.a.createElement(P,{label:"Company",value:V(l.company),disabled:v}),r.a.createElement(I,{options:p,optionLabel:function(e){return e},label:"Maintainer Username",onInputChange:function(e){!function(e,a,t,n){var r=e.target.value;"number"===typeof r&&(r=e.target.innerText.toLowerCase()),a((function(e){return Object(j.a)({},e,Object(y.a)({},t,r||""))}))}(e,s,"username")},disabled:v})),r.a.createElement(Ve.a,null,r.a.createElement(d.a,{variant:"contained",onClick:h,color:"primary",disabled:v},"Cancel"),r.a.createElement(d.a,{variant:"contained",onClick:O,color:"primary",disabled:Object.values(l).some((function(e){return!e}))||v},"Submit")))},Ke=function(e){var a=e.popState,t=(e.current,e.trigger),n=r.a.useState({id:"",name:"",maximumHours:""}),c=Object(i.a)(n,2),o=c[0],l=c[1],s=r.a.useState(!1),u=Object(i.a)(s,2),m=u[0],p=u[1],f=function(){l({id:"",name:"",maximumHours:""}),a.set(!1)},b=function(){var e=Object(x.a)(w.a.mark((function e(){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={description:{id:o.id,name:o.name},maximumHours:o.maximumHours},p(!0),e.next=4,G("part","POST",a);case 4:n=e.sent,console.log(n),p(!1),t(n),n&&f();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(e){var a=e.target;a.value="maximumHours"===a.id&&Number(a.value)<0&&""!==a.value?0:a.value,l((function(e){return Object(j.a)({},e,Object(y.a)({},a.id,a.value))}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(We.a,{className:"form-box"},r.a.createElement(Ge.a,null,"Register a new part to be tracked in the Hyperledger Fabric blockchain network."),r.a.createElement(P,{label:"Part ID",id:"id",value:o.id,onChange:E,disabled:m}),r.a.createElement(P,{label:"Short Description",id:"name",value:o.name,onChange:E,disabled:m}),r.a.createElement(P,{type:"number",label:"Maximum Flight Hours",value:o.maximumHours,id:"maximumHours",onChange:E,disabled:m})),r.a.createElement(Ve.a,null,r.a.createElement(d.a,{variant:"contained",onClick:f,color:"primary",disabled:m},"Cancel"),r.a.createElement(d.a,{variant:"contained",onClick:b,color:"primary",disabled:o.maximumHours<=0||Object.values(o).some((function(e){return!e}))||m},"Submit")))},_e=t(305),qe=t(344),Qe=t(221),Xe=function(e){var a=e.popState,t=e.current,n=e.trigger,c=r.a.useState({tailNumber:t.description.tailNumber,type:"",notes:""}),o=Object(i.a)(c,2),l=o[0],s=o[1],u=["general","A","B","C","D"],m=r.a.useState({}),f=Object(i.a)(m,2),b=f[0],E=f[1],v=r.a.useState(!1),g=Object(i.a)(v,2),h=g[0],O=g[1];r.a.useEffect((function(){var e={};t.partsList.forEach((function(a){e[a]=""})),N(e)}),[t.partsList]);var N=function(e){E((function(a){return Object(j.a)({},a,{},e)}))},C=function(){var e=Object(x.a)(w.a.mark((function e(){var a,t,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=b,Object.keys(a).forEach((function(e){""===b[e]&&delete a[e]})),t=Object(j.a)({},l,{replacedParts:a}),O(!0),e.next=6,G("aircraft","PATCH",t);case 6:r=e.sent,console.log(r),O(!1),n(r),r&&k();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){s({tailNumber:"",type:"",notes:""}),a.set(!1)},S=function(e){var a=e.target;N(Object(y.a)({},a.id,a.value))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(We.a,{className:"form-box"},r.a.createElement(Ge.a,null,"Input data for a maintenance report to be stored with the aircraft."),r.a.createElement(P,{label:"Tail Number",id:"tailNumber",value:l.tailNumber,disabled:h}),r.a.createElement(I,{options:u,optionLabel:V,label:"Maintenance Type",onInputChange:function(e){!function(e,a,t,n){var r=e.target.value;"number"===typeof r&&(r=e.target.innerText),a((function(e){return Object(j.a)({},e,Object(y.a)({},t,r||""))}))}(e,s,"type")},disabled:h}),r.a.createElement(_e.a,{placeholder:"Notes",rowsMin:5,rowsMax:5,id:"notes",onChange:function(e){var a=e.target;s((function(e){return Object(j.a)({},e,Object(y.a)({},a.id,a.value))}))},className:"textArea",disabled:h}),r.a.createElement(p.a,{my:1,className:"textArea"},r.a.createElement(fe.a,{className:"table-container"},r.a.createElement(be.a,{size:"small",stickyHeader:!0},r.a.createElement(Ee.a,null,r.a.createElement(ve.a,null,r.a.createElement(ge.a,null,"Current Part ID"),r.a.createElement(ge.a,null,"New Part ID"))),r.a.createElement(he.a,null,Object.keys(b).map((function(e){return r.a.createElement(ve.a,{key:e},r.a.createElement(ge.a,null,e.includes("newPart")?"--":e),r.a.createElement(ge.a,null,r.a.createElement(p.a,{className:"part-input-box"},r.a.createElement(qe.a,{placeholder:"Part ID",id:e,value:b[e],onChange:S,disabled:h}))))})))))),r.a.createElement(d.a,{variant:"outlined",onClick:function(){var e=Qe.randomBytes(5).toString("hex"),a=Object(y.a)({},"newPart".concat(e),"");N(a)},startIcon:r.a.createElement(ke.a,null),disabled:h},"Add Item")),r.a.createElement(Ve.a,null,r.a.createElement(d.a,{variant:"contained",onClick:k,color:"primary",disabled:h},"Cancel"),r.a.createElement(d.a,{variant:"contained",onClick:C,color:"primary",disabled:Object.values(l).some((function(e){return!e}))||h},"Submit")))},ea=function(e){var a=e.popState,t=e.current,n=e.companies,c=e.trigger,o=r.a.useState({tailNumber:t.description.tailNumber,company:""}),l=Object(i.a)(o,2),s=l[0],u=l[1],m=r.a.useState(!1),p=Object(i.a)(m,2),f=p[0],b=p[1],E=function(){u({tailNumber:"",company:""}),a.set(!1)},v=n.list.filter((function(e){return e!==t.owner.slice(-1)[0].company})),g=function(){var e=Object(x.a)(w.a.mark((function e(){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,G("admin","PATCH",s);case 3:a=e.sent,console.log(a),b(!1),c(a),a&&E();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(We.a,{className:"form-box"},r.a.createElement(Ge.a,null,"Sell the corresponding aircraft to another company."),r.a.createElement(P,{label:"Tail Number",id:"tailNumber",value:s.tailNumber,disabled:f}),r.a.createElement(I,{options:v,optionLabel:V,label:"Company",onInputChange:function(e){!function(e,a,t,n){var r=e.target.value;"number"===typeof r&&(r=e.target.innerText.toLowerCase()),a((function(e){return Object(j.a)({},e,Object(y.a)({},t,r||""))}))}(e,u,"company")},disabled:f})),r.a.createElement(Ve.a,null,r.a.createElement(d.a,{variant:"contained",onClick:E,color:"primary",disabled:f},"Cancel"),r.a.createElement(d.a,{variant:"contained",onClick:g,color:"primary",disabled:Object.values(s).some((function(e){return!e}))||f},"Submit")))},aa=function(e){var a=e.popState,t=e.current,n=e.trigger,c=r.a.useState({tailNumber:t.description.tailNumber,hours:""}),o=Object(i.a)(c,2),l=o[0],s=o[1],u=r.a.useState(!1),m=Object(i.a)(u,2),p=m[0],f=m[1],b=function(){s({tailNumber:"",hours:""}),a.set(!1)},E=function(){var e=Object(x.a)(w.a.mark((function e(){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,G("flight","POST",l);case 3:a=e.sent,console.log(a),f(!1),n(a),a&&b();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(We.a,{className:"form-box"},r.a.createElement(Ge.a,null,"Update the flight hours for an aircraft and its corresponding parts."),r.a.createElement(P,{label:"Tail Number",id:"tailNumber",value:l.tailNumber,disabled:p}),r.a.createElement(P,{type:"number",label:"Flight Hours",value:l.hours,id:"hours",onChange:function(e){var a=e.target,t=Number(a.value)<0&&""!==a.value?0:a.value;s((function(e){return Object(j.a)({},e,Object(y.a)({},a.id,t))}))},disabled:p})),r.a.createElement(Ve.a,null,r.a.createElement(d.a,{variant:"contained",onClick:b,color:"primary",disabled:p},"Cancel"),r.a.createElement(d.a,{variant:"contained",onClick:E,color:"primary",disabled:l.hours<=0||Object.values(l).some((function(e){return!e}))||p},"Submit")))};function ta(e){var a=e.children,t=e.value,n=e.index,c=Object(A.a)(e,["children","value","index"]);return r.a.createElement(m.a,Object.assign({component:"div",role:"tabpanel",hidden:t!==n,id:"vertical-tabpanel-".concat(n),"aria-labelledby":"vertical-tab-".concat(n),className:"detailContainer"},c),t===n&&r.a.createElement(p.a,{p:3,className:"detailContainer-box"},a))}var na=Object($.a)((function(e){return{tabs:{borderRight:"1px solid ".concat(e.palette.divider),color:e.palette.text.main,minWidth:"15%"}}})),ra=function(e){var a=e.condition,t=e.children;return a?t:r.a.createElement(s.a,{position:"static",color:"transparent"},t)},ca={AssignMaintainer:$e,ReportMaintenance:Xe,NewPart:Ke,RegisterAircraft:Ze,SellAircraft:ea,UpdateHours:aa},oa=function(e){var a=e.connected,t=e.userData,n=e.companies,c=na(),o=r.a.useState(0),l=Object(i.a)(o,2),s=l[0],u=l[1],d=r.a.useState(!1),f=Object(i.a)(d,2),b=f[0],E=f[1],v=r.a.useState([]),g=Object(i.a)(v,2),h=g[0],y=g[1],j=r.a.useState(!1),O=Object(i.a)(j,2),w={open:O[0],set:O[1]},x=r.a.useState(""),k=Object(i.a)(x,2),S=k[0],T=k[1],D=r.a.useState(!1),H=Object(i.a)(D,2),M=H[0],P=H[1],A=r.a.useState(null),L=Object(i.a)(A,2),I=L[0],R=L[1],F=r.a.useState(!0),z=Object(i.a)(F,2),Y=z[0],B=z[1],J=r.a.useState(!1),W=Object(i.a)(J,2),G=W[0],Z=W[1],$=function(e,a){"clickaway"!==a&&(P(!1),setTimeout((function(){return R(null)}),100))};r.a.useEffect((function(){function e(){window.innerWidth<=600&&!b?E(!0):window.innerWidth>600&&b&&E(!1)}return e(),window.addEventListener("resize",e),function(a){window.removeEventListener("resize",e)}}),[b]),r.a.useEffect((function(){if(a)Z(!0),U(t.info.aircraft.join(",")).then((function(e){y(e),console.log(e),Z(!1)})).catch((function(e){console.log(e),y([])}));else{y(new Array(20).fill({description:{aircraft:"Boeing 787-8 Dreamliner",tailNumber:"G-ZBJG",image:"https://cdn.jetphotos.com/full/6/27290_1582395615.jpg"},maintenanceSchedule:["A","B","C","D"].map((function(e){return{type:e,lastCompletedDate:new Date,lastCompletedHours:Math.round(100*Math.random()),maxHours:250}})),flightHours:Math.round(250*Math.random()),owner:[{company:"british airways",purchaseDate:new Date,soldDate:null}],partsList:["demoPart"],maintainers:[],maintenanceReports:new Array(2).fill({date:new Date,type:"General",notes:"Test maintenance report",partsReplaced:JSON.stringify({newPart:"test part","testing part":"testing parts"})})}))}}),[a,t.info.aircraft,Y]);var X=ca[S.split(" ").join("")];return r.a.createElement("div",{className:"mainContainer ".concat(b?"verticalOrient":"horizontalOrient")},r.a.createElement(ra,{condition:!b},r.a.createElement(K.a,{orientation:b?"horizontal":"vertical",variant:"scrollable",value:s,onChange:function(e,a){u(a)},className:c.tabs},void 0!==h&&h.map((function(e,a){return r.a.createElement(_.a,Object.assign({label:e.description.tailNumber,key:"plane".concat(a)},function(e){return{id:"vertical-tab-".concat(e),"aria-controls":"vertical-tabpanel-".concat(e)}}(a)))})))),void 0!==h&&!1===G?h.map((function(e,a){return r.a.createElement(ta,{value:s,index:a,key:"aircraft".concat(a)},r.a.createElement(p.a,{className:"panel-header-details"},r.a.createElement(m.a,{variant:"h2"},e.description.aircraft),r.a.createElement(m.a,{variant:"h6"},"Tail Number: ".concat(e.description.tailNumber)),r.a.createElement(m.a,{variant:"h6"},"Company: ".concat(V(e.owner[e.owner.length-1].company))),r.a.createElement(m.a,{variant:"h6"},"Flight Hours: ".concat(e.flightHours)),r.a.createElement(we,{objArray:e.owner,mapping:{company:"Company",purchaseDate:"Purchase Date",soldDate:"Sold Date"},large:!0})),r.a.createElement(p.a,{className:"panel-header-image"},r.a.createElement("img",{src:e.description.image,alt:"".concat(e.description.aircraft," ").concat(e.description.tailNumber)})),r.a.createElement(p.a,{my:1,className:"panel-content"},r.a.createElement(m.a,{variant:"h5"},"Maintenance Checks"),r.a.createElement(p.a,{pt:1},e.maintenanceSchedule.map((function(a){return r.a.createElement(le,{start:a.lastCompletedHours,end:a.lastCompletedHours+a.maxHours,current:e.flightHours,label:"".concat(a.type," Check - Last Completed: ").concat(ue()(a.lastCompletedDate).isValid()?ue()(a.lastCompletedDate).format("D MMM YYYY"):"N/A"),key:a.type})})))),r.a.createElement(p.a,{my:1,className:"panel-content"},r.a.createElement(m.a,{variant:"h5"},"Parts Provenance"),r.a.createElement(p.a,{pt:1},e.partsList.length>0&&r.a.createElement(xe,{parts:e.partsList,refresh:Y}))),r.a.createElement(p.a,{my:1,className:"panel-content"},r.a.createElement(m.a,{variant:"h5"},"Maintenance Reports"),e.maintenanceReports.length>0&&r.a.createElement(p.a,{pt:1},e.maintenanceReports.map((function(e,a){return r.a.createElement(Oe,{report:e,key:a})})))))})):r.a.createElement("div",{className:"loading-refresh-container"},G?r.a.createElement(q.a,null):r.a.createElement(Q.a,{onClick:function(){return B((function(e){return!e}))}},r.a.createElement(ee.a,{style:{fontSize:50}}))),r.a.createElement(Ye,{admin:"administrator"===t.info.type,popUp:w,setMenu:T}),r.a.createElement(Je,{popState:w,title:S},S&&r.a.createElement(X,{popState:w,current:h[s],companies:n,trigger:function(e){P(!0),R(e),e&&B((function(e){return!e}))}})),r.a.createElement(N.a,{open:M,autoHideDuration:6e3,onClose:$},r.a.createElement(C.a,{elevation:6,variant:"filled",onClose:$,severity:I?"success":"error"},I?"Transaction successful":"Transaction failed")))};var ia=function(){var e=r.a.useState(!1),a=Object(i.a)(e,2),t=a[0],n=a[1],c=r.a.useState([]),o=Object(i.a)(c,2),s=o[0],u=o[1],m={list:s,setList:u},p=r.a.useState({}),d=Object(i.a)(p,2),f=d[0],b={info:f,setInfo:d[1]};return r.a.useEffect((function(){Y().then((function(e){console.log(e),u(e),n(!0)})).catch((function(e){console.log(e),n(!1),u(["air canada","KLM","united","delta"])}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{connected:t}),r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/aircraft"},0===Object.keys(f).length?r.a.createElement(l.a,{to:"/"}):r.a.createElement(oa,{connected:t,userData:b,companies:m})),r.a.createElement(l.b,{path:"/"},r.a.createElement(Z,{connected:t,companies:m,userData:b}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var la=t(78),sa=t(184),ua=t(362),ma=Object(sa.a)({palette:{type:"dark",text:{main:"#fff"}},overrides:{MuiFormLabel:{root:{"&$focused":{color:"white"}}},MuiTooltip:{tooltip:{fontSize:"1em"}}}});o.a.render(r.a.createElement(ua.a,{theme:ma},r.a.createElement(la.a,{basename:"/"},r.a.createElement(ia,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},63:function(e,a,t){}},[[198,1,2]]]);
//# sourceMappingURL=main.eaf1d1ea.chunk.js.map